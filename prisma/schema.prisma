// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

 

model Course{
  id String  @default(uuid()) @unique
  title String
  introAboutCourse String
  courseImgUrl String
  courseThummbnailUrl String?
  price Float
  isPublished Boolean @default(false)
  categories String
  subCategories String
  courseLevel String
  outline String?
  courseDuration Int
  learnSkill String
  courseDescription String
  chapters Chapter[]
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@map("courses")
}

model Chapter{
  id String  @default(uuid()) @unique
  title String
  isComplete Boolean @default(false)
  videos Video[]
  courseId String 
  course Course @relation(fields: [courseId], references: [id])
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@map("chapters")
}

model Video{
  id String @default(uuid()) @unique
  videoTitle String
  videoURL String
  videoLength String?
  watch String @default("private")
  isComplete Boolean @default(false)
  chapterId String
  chapter Chapter @relation(fields: [chapterId], references: [id])
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
 
  @@map("videos")
}